<div class="page-container">

<app-navbar></app-navbar>

  <!-- Main Content -->
<main class="main-content">
  <div class="content-wrapper">
    <h1 class="page-title">File & Data Ingestion</h1>

    <div class="upload-section">
      <input
        type="file"
        #fileInput
        (change)="onFileSelected($event)"
        style="display: none;"
        accept=".txt,.csv,.json,.xml,.log,.pdf,.doc,.docx" />
      <button class="upload-button" (click)="fileInput.click()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Upload here
      </button>
    </div>

    <div *ngIf="fileName" class="file-name-display">
      Selected file: <strong>{{ fileName }}</strong>
    </div>

    <div class="progress-section" *ngIf="uploading || uploadProgress > 0">
      <div class="progress-bar">
        <div class="progress-fill" [style.width]="uploadProgress + '%'"></div>
      </div>
      <div class="progress-text">
        {{ uploading ? 'Uploading...' : 'Upload Complete!' }}
        <span *ngIf="uploading">{{ uploadProgress }}%</span>
      </div>
    </div>

    <div class="text-section">
      <label class="section-label">Extracted text</label>
      <div class="text-area">
        <textarea
          [(ngModel)]="extractedText"
          placeholder="Extracted text will appear here..."
          readonly>
        </textarea>
      </div>
    </div>

    <div class="action-section">
      <button class="complete-button" (click)="onComplete()" [disabled]="uploading || !selectedFile">
        Complete
      </button>
    </div>
  </div>
</main>
</div>